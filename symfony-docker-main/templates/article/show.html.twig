{% extends 'base.html.twig' %}

{% block title %}Article{% endblock %}

{% block body %}
    <div class="article-details">
        <h1 class="article-title">{{ article.titre }}</h1>

        <div class="article-meta">
            <p class="article-date">{{ article.datePublication ? article.datePublication|date('Y-m-d') : '' }}</p>
        </div>

        {% if article.image %}
            <img src="{{ asset('images/' ~ article.image.filename) }}" alt="Image de l'article">
        {% endif %}

        <p class="article-content">{{ article.contenu }}</p>

        <h2 class="comments-title">Commentaires</h2>
        <ul class="comment-list">
            {% for comment in article.comments %}
                <li class="comment-item">{{ comment.contenu }}</li>
            {% endfor %}
        </ul>

        <h2 class="add-comment-title">Ajouter un commentaire</h2>
        {{ render(controller('App\\Controller\\CommentController::new', { 'article': article.id })) }}

        <a href="{{ path('app_article_index') }}" class="btn btn-primary">Retour Ã  la liste</a>

        <a href="{{ path('app_article_edit', {'id': article.id}) }}" class="btn btn-success">Editer</a>

        {{ include('article/_delete_form.html.twig') }}
    </div>
{% endblock %}
